<%# 投稿フォームページ %>

<%= notice %>

<h2>Task登録フォーム</h2>

<%# エラーメッセージがあった場合に表示させる %>
<%= render partial: 'layouts/errors', locals: { task: @task } %>

<%# 投稿フォーム %>
<%= render partial: 'form', locals: { task: @task, text: '登録',path: tasks_path } %>

<h2>Task一覧</h2>
<table class="table">
  <thead>
    <tr>
      <th>タイトル</th>
      <th>本文</th>
      <th>登録日時</th>
      <th>完了日時</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @tasks.each do |tasks| %>
    <tr>
      <td>
        <%= tasks.name %>
      </td>
      <td>
        <%= tasks.body %>
      </td>
      <td class='time'>
        <%= tasks.created_at.to_s(:datetime_jp)  %>
      </td>
      <td>
        <%= tasks.end_date %>
      </td>
      <td>
        <%= link_to '詳細',edit_task_path(tasks),class: 'btn btn-success' %>
      </td>
      <td>
        <%= link_to '削除',task_path(tasks), method: :delete, data: {confirm: "本当に削除してもよろしいですか？"},class: 'btn btn-danger' %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
